# 自定义模式使用说明

## 🎮 功能概述

自定义模式允许玩家完全自定义游戏的外观，包括：
- **玩家飞机图片** - 自定义你的战斗机外观
- **敌机图片** - 自定义敌人的外观
- **背景图片** - 自定义游戏背景

## 🖼️ 图片获取方式

### 1. 手动上传图片
- 支持格式：PNG, JPG, JPEG, BMP, GIF
- 推荐尺寸：512x512像素或更高
- 透明背景：PNG格式支持透明背景，效果最佳

### 2. AI生成图片（Stable Diffusion）
- 通过文字描述生成图片
- 支持中英文描述
- 需要本地运行Stable Diffusion WebUI

## 🚀 使用步骤

### 第一步：进入自定义模式
1. 启动游戏
2. 在主菜单选择"Custom Mode"
3. 进入自定义配置页面

### 第二步：配置图片

#### 方式一：手动上传
1. 点击"Upload Images"按钮
2. 依次选择：
   - 玩家飞机图片
   - 敌机图片
   - 背景图片
3. 图片会自动加载并显示在预览区域

#### 方式二：AI生成
1. 在输入框中输入描述：
   - **玩家飞机**：例如"futuristic fighter jet, blue, detailed"
   - **敌机**：例如"alien spaceship, red, aggressive design"
   - **背景**：例如"space battlefield, stars, nebula"
2. 点击"Generate with AI"按钮
3. 等待AI生成完成

### 第三步：测试连接（可选）
1. 确保Stable Diffusion WebUI正在运行
2. 点击"Test SD"按钮测试连接
3. 如果连接成功，可以开始AI生成

### 第四步：完成配置
1. 确保所有三个图片都已设置
2. 点击"Complete"按钮
3. 自动跳转到自定义游戏页面

## ⚙️ Stable Diffusion配置

### 本地安装
1. 下载并安装[Stable Diffusion WebUI](https://github.com/AUTOMATIC1111/stable-diffusion-webui)
2. 启动WebUI：`python launch.py --api`
3. 确保API端口为7860（默认）

### API设置
- **默认地址**：`http://127.0.0.1:7860`
- **API密钥**：如果需要，在WebUI设置中配置
- **模型选择**：推荐使用SD 1.5或SDXL模型

### 生成参数
- **步数**：20步（平衡质量和速度）
- **尺寸**：512x512像素
- **采样器**：DPM++ 2M Karras
- **CFG Scale**：7（创意性和准确性的平衡）

## 🎯 游戏玩法

### 控制方式
- **方向键**：控制飞机移动
- **自动射击**：飞机自动发射子弹
- **开始/停止**：控制游戏开始和暂停
- **暂停/继续**：暂停和恢复游戏

### 游戏目标
- 击落敌机获得分数
- 躲避敌机子弹
- 避免与敌机相撞
- 尽可能获得高分

## 🔧 故障排除

### 常见问题

#### 1. 图片上传失败
- 检查图片格式是否支持
- 确保图片文件未损坏
- 尝试使用较小的图片文件

#### 2. AI生成失败
- 检查Stable Diffusion WebUI是否正在运行
- 确认API端口是否正确
- 检查网络连接
- 尝试重启WebUI

#### 3. 游戏运行缓慢
- 降低图片分辨率
- 关闭其他占用资源的程序
- 检查显卡驱动是否最新

#### 4. 图片显示异常
- 确保图片格式正确
- 尝试重新上传图片
- 检查图片是否包含透明通道

### 性能优化建议
- 使用适当大小的图片（建议512x512）
- 避免使用过大的图片文件
- 定期清理生成的临时文件

## 📁 文件管理

### 生成的文件
- `custom_player_plane_[timestamp].png` - 生成的玩家飞机图片
- `custom_enemy_plane_[timestamp].png` - 生成的敌机图片
- `custom_background_[timestamp].png` - 生成的背景图片

### 文件位置
- 自定义图片保存在游戏根目录
- 可以手动移动到`images/`文件夹
- 建议定期整理和备份

## 🎨 创意建议

### 主题设计
- **科幻风格**：未来战斗机、太空战场
- **军事风格**：现代战机、战场背景
- **卡通风格**：可爱飞机、卡通背景
- **复古风格**：经典战机、复古背景

### 描述技巧
- 使用具体的形容词：颜色、形状、风格
- 添加环境描述：背景、光照、天气
- 指定艺术风格：写实、卡通、油画等
- 包含细节描述：纹理、材质、装饰

## 🔮 未来功能

### 计划中的功能
- 支持更多图片格式
- 批量图片生成
- 图片编辑工具
- 预设主题包
- 社区分享功能

### 用户反馈
- 欢迎提出功能建议
- 报告bug和问题
- 分享创意和作品

## 📞 技术支持

### 获取帮助
- 查看游戏日志文件
- 检查控制台错误信息
- 参考Stable Diffusion文档
- 联系开发者

### 社区资源
- GitHub项目页面
- 用户讨论群组
- 教程和指南
- 示例和模板

---

**🎉 享受你的自定义游戏体验！**
