# LightPlane AI 快速开始指南

## 🚀 立即开始

### 第一步：环境准备

#### 系统要求
- **操作系统**: Windows 10+, macOS 10.14+, Ubuntu 18.04+
- **Python版本**: 3.7 - 3.11
- **内存**: 8GB+ (推荐16GB)
- **存储**: 5GB+ 可用空间
- **GPU**: 推荐NVIDIA GPU (用于AI图片生成)

#### 安装Python
```bash
# 下载并安装Python 3.9+
# 确保pip可用
python3 --version
pip3 --version
```

### 第二步：下载项目

#### 克隆仓库
```bash
git clone https://github.com/your-username/LightPlane_AI.git
cd LightPlane_AI
```

#### 或下载ZIP
- 访问GitHub仓库
- 点击"Code" → "Download ZIP"
- 解压到本地目录

### 第三步：安装依赖

#### 基础依赖
```bash
pip3 install pygame numpy pillow
```

#### AI图片处理依赖
```bash
pip3 install opencv-python rembg
pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cpu
pip3 install diffusers transformers accelerate
```

#### 强化学习依赖
```bash
pip3 install stable-baselines3 gymnasium
```

#### 验证安装
```bash
python3 -c "import pygame; print('Pygame:', pygame.version.ver)"
python3 -c "import torch; print('PyTorch:', torch.__version__)"
```

### 第四步：运行游戏

#### 启动游戏
```bash
python3 launcher.py
```

#### 首次运行
- 游戏会自动创建必要的目录
- 下载AI模型文件（首次需要网络）
- 初始化配置系统

## 🎮 游戏体验

### 选择游戏模式

#### 1. 传统模式 (推荐新手)
- 经典飞机大战体验
- 使用默认游戏资源
- 适合熟悉游戏操作

#### 2. 自定义模式 (推荐体验)
- 支持AI生成图片
- 自定义游戏内容
- 个性化游戏体验

#### 3. AI模式 (推荐进阶)
- 体验AI对手
- 智能游戏行为
- 强化学习技术

### 基本操作

#### 玩家控制
- **移动**: 鼠标移动控制飞机位置
- **射击**: 空格键发射子弹
- **菜单**: ESC键返回主菜单

#### 游戏控制
- **开始**: 点击开始按钮
- **暂停**: 点击暂停按钮
- **返回**: 点击返回按钮

## 🎨 自定义配置

### 进入自定义模式

#### 1. 启动游戏
- 运行 `python3 launcher.py`
- 选择"自定义模式"

#### 2. 配置界面
- 三个配置列：玩家飞机、敌机、背景
- 每列支持上传和AI生成
- 实时预览效果

### AI图片生成

#### 1. 输入描述
```
玩家飞机: "modern fighter jet, blue color, detailed"
敌机: "enemy aircraft, red color, aggressive design"
背景: "space background, stars, nebula, colorful"
```

#### 2. 生成图片
- 点击"AI生成"按钮
- 等待生成完成（10-30秒）
- 自动背景去除和优化

#### 3. 查看结果
- 预览区域显示处理后的图片
- 自动调整到游戏尺寸
- 保存到配置缓存

### 上传自定义图片

#### 1. 准备图片
- 格式：PNG、JPG、BMP
- 尺寸：建议512x512或更大
- 内容：清晰的飞机或背景图片

#### 2. 上传处理
- 点击"上传"按钮
- 选择本地图片文件
- 自动调整尺寸和格式

#### 3. 可选处理
- 自动背景去除
- 边框裁剪优化
- 质量增强

## 🤖 AI功能体验

### 智能背景控制

#### AI生成背景
- **特点**: 静态显示，不移动
- **适用**: 星空、风景等静态背景
- **效果**: 沉浸式游戏体验

#### 上传背景
- **特点**: 保持传统滚动效果
- **适用**: 动态背景图片
- **效果**: 经典飞机大战感觉

#### 默认背景
- **特点**: 经典滚动效果
- **适用**: 传统游戏体验
- **效果**: 怀旧游戏风格

### AI图片处理

#### 背景去除
- **RemBG模型**: 最高质量，适合复杂图片
- **SAM模型**: 先进分割，智能识别
- **OpenCV**: 快速处理，基础功能

#### 边框裁剪
- **智能检测**: 自动识别主体边界
- **自适应裁剪**: 根据图片复杂度调整
- **Padding控制**: 保留适当边距

## 🔧 高级配置

### 性能优化

#### 图片质量设置
```python
# 在配置中调整
'image_quality': 'high',  # high, medium, low
'processing_model': 'rembg',  # rembg, sam, opencv
'auto_optimize': True
```

#### AI模型选择
- **高质量**: RemBG + SAM
- **平衡**: RemBG + OpenCV
- **快速**: OpenCV only

### 自定义参数

#### 背景去除参数
```python
'alpha_matting': True,
'alpha_matting_foreground_threshold': 240,
'alpha_matting_background_threshold': 10,
'alpha_matting_erode_size': 10
```

#### 边框裁剪参数
```python
'padding': 15,  # 边距像素
'min_size': 50,  # 最小检测尺寸
'contour_threshold': 0.01  # 轮廓检测阈值
```

## 🐛 常见问题

### 安装问题

#### Pygame安装失败
```bash
# macOS
brew install pkg-config sdl2 sdl2_image sdl2_mixer sdl2_ttf portmidi
pip3 install pygame

# Ubuntu
sudo apt-get install python3-pygame

# Windows
pip3 install pygame --pre
```

#### PyTorch安装失败
```bash
# CPU版本
pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cpu

# GPU版本 (CUDA 11.8)
pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cu118
```

### 运行问题

#### 游戏启动失败
```bash
# 检查Python版本
python3 --version

# 检查依赖
python3 -c "import pygame, torch, cv2; print('All OK')"

# 重新安装依赖
pip3 uninstall pygame torch opencv-python
pip3 install pygame torch opencv-python
```

#### AI功能不可用
```bash
# 检查模型文件
ls -la models/

# 重新下载模型
python3 install_ai_dependencies.py

# 检查GPU支持
python3 -c "import torch; print('CUDA:', torch.cuda.is_available())"
```

### 性能问题

#### 游戏卡顿
- 降低图片分辨率
- 使用默认游戏资源
- 关闭AI功能
- 检查系统资源

#### AI处理慢
- 使用GPU加速
- 选择快速处理模型
- 降低图片质量
- 关闭不必要的优化

## 📚 学习资源

### 官方文档
- **README.md**: 项目概述和快速开始
- **功能特性总结.md**: 详细功能说明
- **AI训练文档.md**: AI训练指南

### 示例代码
- **demo_*.py**: 功能演示脚本
- **test_*.py**: 功能测试脚本
- **examples/**: 代码示例目录

### 社区支持
- **GitHub Issues**: 问题反馈和讨论
- **Wiki**: 详细使用说明
- **Discussions**: 功能讨论和建议

## 🎯 下一步

### 基础掌握
- [ ] 完成游戏教程
- [ ] 体验所有游戏模式
- [ ] 尝试自定义配置

### 进阶探索
- [ ] 学习AI图片生成
- [ ] 自定义游戏内容
- [ ] 调整AI参数

### 深度开发
- [ ] 参与代码贡献
- [ ] 训练自定义AI模型
- [ ] 开发新功能

---

**开始您的AI游戏之旅！** 🚀🎮✨

如有问题，请查看文档或提交Issue。
